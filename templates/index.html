<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chatbot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        @keyframes cursorBlink {
            0% {
                border-right-color: initial;
            }
            to {
                border-right-color: transparent;
            }
        }

        #block {
            border-width: 0;
            border-style: solid;
            border-color: black;
            border-right-width: 8px;
            white-space: pre-wrap;
            animation: cursorBlink 0.6s ease-in-out infinite alternate;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="chatbox">
            <div class="chatbox__support">
                <div class="chatbox__header">
                    <div class="chatbox__image--header">
                        <img src="{{ url_for('static', filename='images/kaswu.png') }}" alt="image">
                    </div>
                    <div class="chatbox__content--header">
                        <h4 class="chatbox__heading--header">MariaGPT</h4>
                        <p class="chatbox__description--header">Hei, olen valmentajasi Maria. Miten voisin auttaa sinua?</p>
                    </div>
                </div>
                <div class="chatbox__messages chatbox-content">
                    <div class="bot-typing-container">
                        <div class="typing-animation">
                            <span id="block" class="typing-text"></span>
                        </div>
                        <div class="messages__item messages__item--bot-typing">...</div>
                    </div>
                </div>
                <div class="chatbox__footer">
                    <input type="text" placeholder="Kirjoita jotain botille...">
                    <button class="chatbox__send--footer send__button">Send</button>
                </div>
            </div>
            <div class="chatbox__button">
                <button><img src="{{ url_for('static', filename='images/chatbox-icon.svg') }}" alt="Chat Icon" /></button>
            </div>
        </div>
    </div>

    <script>
        const SCRIPT_ROOT = {{ request.script_root|tojson }};
    </script>
    <script type="text/javascript" src="{{ url_for('static', filename='script.js') }}"></script>
    <script>
        const typedText = document.getElementById('block');
        const textToType = 'Moi olen Maria, miten voisin auttaa sinua tänään?';
        let currentIndex = 0;

        function typeCharacter() {
            typedText.innerHTML += textToType[currentIndex];
            currentIndex += 1;

            if (currentIndex < textToType.length) {
                setTimeout(typeCharacter, 100);
            }
        }

        typeCharacter();
    </script>
</body>
</html>
